<html>
<head>

<meta charset=utf-8>

<!--todo: 把绝对路径改成相对路径  -->
<link rel="stylesheet" type="text/css" href="http://localhost/dingxindianqi/jeasyui/themes/metro/easyui.css">
<link rel="stylesheet" type="text/css" href="http://localhost/dingxindianqi/jeasyui/themes/icon.css">
<script type="text/javascript" src="http://localhost/dingxindianqi/jeasyui/jquery.min.js"></script>
<script type="text/javascript" src="http://localhost/dingxindianqi/jeasyui/jquery.easyui.min.js"></script>

<title> 鼎新电气</title>

</head>


<body>

<!--布局结构-->
<div  class="easyui-layout" style="width:928px;height:600px">

    <!--上部分-->
    <div id="northreg" region='north' split:true title="菜单导航"> </div>


    <!--左部-->
    <div id="wesetreg" region='west' split:true title='导航'  style="width:30%">
      <!--导航树 -->
      <ul class="easyui-tree" id="navtree" > </ul>
    </div>

    <!--中部-->
    <div id="centreg" region='center' split:true title='主页' > 
      <!--标签页容器-->
      <div id="tabcontainer" class="easyui-tabs"> </div>
    </div>

    <!--下部-->
    <div id="southreg" region='south' split:true title="页脚"> </div>


</div >







<script >

  //匿名空间
  (function(){





    //导航树创建
      $("#navtree").tree({
        url:"http://localhost/dingxindianqi/index.php/category/treenode #dgTD",
        onClick:function(node){//动态选择、添加中部tabs

            $("#navtree").tree('toggle',node.target);
            if(node.state=="open"){
                var title=node.id+"\t"+node.text,
                    tabcontainer=$("#tabcontainer");

                if(tabcontainer.tabs('exists',title)){//选择已经存在的tab
                    tabcontainer.tabs('select',title);
                }else{ //创建tab
                    tabcontainer.tabs(
                        'add',
                        {'title':title,
                          'content':'<a herf=www.baidu.com>',
                          'closable':true,
                          'href':"http://localhost/dingxindianqi/index.php/article/show?catid="+node.id,
                        }
                    );
                }
            }
        }
      });





  })();
</script>

</body>
</html>
